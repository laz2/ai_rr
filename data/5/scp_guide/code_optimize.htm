<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<title>Советы программирования</title>
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body bgcolor="#CCFFFF" lang=RU>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><b><span
style='font-size:16.0pt'>Оптимизация исходного текста</span></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:14.0pt'>Приведём некоторые приёмы
оптимизации исходного текста:</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
-18.0pt'><span style='font-size:14.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'>При описании параметров программы
и атрибутов </span><span lang=EN-US style='font-size:14.0pt'>scp</span><span
style='font-size:14.0pt'>-операторов возможно множественное использование
атрибутов.</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-align:justify;text-indent:
18.0pt'><span style='font-size:14.0pt'>Пример написания </span><span
lang=EN-US style='font-size:14.0pt'>scp</span><span style='font-size:14.0pt'>-оператора:</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:18.0pt'><span
style='font-size:14.0pt'>Вместо</span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Courier New"'>add([1_: fixed_:
node, 2_: fixed_: node])</span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:18.0pt'><span
style='font-size:14.0pt'>Можно писать</span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:18.0pt'><span
lang=EN-US style='font-size:14.0pt;font-family:"Courier New"'>add</span><span
style='font-size:14.0pt;font-family:"Courier New"'>([1_: 2_: </span><span
lang=EN-US style='font-size:14.0pt;font-family:"Courier New"'>fixed</span><span
style='font-size:14.0pt;font-family:"Courier New"'>_: </span><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>node</span><span
style='font-size:14.0pt;font-family:"Courier New"'>])</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>          </span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:18.0pt'><span
style='font-size:14.0pt'>Пример написания заголовка </span><span lang=EN-US
style='font-size:14.0pt'>sc</span><span lang=EN-GB style='font-size:14.0pt'>p</span><span
style='font-size:14.0pt'>-программы:</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt'>Вместо</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>procedure</span><span
style='font-size:14.0pt;font-family:"Courier New"'>(</span><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>procedure</span><span
style='font-size:14.0pt;font-family:"Courier New"'>_</span><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>name</span><span
style='font-size:14.0pt;font-family:"Courier New"'>,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt;
font-family:"Courier New"'>    </span><span lang=EN-US style='font-size:14.0pt;
font-family:"Courier New"'>[[</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    ]],</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    [{</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    }],</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    [{</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       1_: out_: seq,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       2_: out_: cell,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       3_: in_:  seq,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       4_: in_:  cell</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    }])</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt'>Можно</span><span
style='font-size:14.0pt'> </span><span style='font-size:14.0pt'>писать</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>procedure(procedure_name,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    [[</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    ]],</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    [{</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    }],</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    [{</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       1_: in_: out_: seq,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>       2_: in_: out_: cell</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>    </span><span
style='font-size:14.0pt;font-family:"Courier New"'>}])</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify'><span
style='font-size:14.0pt'>Более краткое написание никак не отражается на смысле
параметров, передаётся меньшее количество переменных. </span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify'><span
style='font-size:14.0pt'>Но в ситуации, когда нужно предусмотреть, что в
программу может поступить неопределённое значение, нужно писать четыре
параметра. Краткое написание в этом случае не возможно, так как оно
подразумевает существование узла. Иначе – будет возникать ошибка построения
входных параметров.</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify'><span
style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
-18.0pt'><span style='font-size:14.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'>Для того, чтобы не использовать
лишние переменные, желательно в промежуточных операторах (add, toStr), где
необходима временная переменная использовать нерабочие в данный момент переменные
(которые не хранят необходимой для дальнейшей работы данных), как правило это <i>arc</i>,
<i>arc2</i>, используемые для второго и четвёртого элементов в пятиэлементных
операторах. Например:</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>   </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>searchSetStr5([1_: assign_:
node,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>               2_: assign_:
arc,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>               3_:  fixed_:
node2,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>               4_: assign_:
arc2,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>               5_:  fixed_:
node3,</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>               set1_:
assign_: Set])</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt;
font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>idtfMove([1_: assign_: arc,
2_: fixed_: node])</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>add([1_: 2_: fixed_: Result,
3_: fixed_: arc])</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt'>   </span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify'><span
style='font-size:14.0pt'>Это приводит к экономному использованию памяти и не
создаётся ситуации, когда в небольшой программе содержится такое большое
количество переменных, что проследить ход алгоритма становится сложной задачей.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify'><span
style='font-size:14.0pt'>Пример: </span><span lang=EN-US style='font-size:14.0pt'>scp</span><span
style='font-size:14.0pt'>-оператор <i>to_str()</i> сохраняет численное содержимое
второго аргумента в содержимом текстового формата первого аргумента, <i>idtfMove()</i>
сохраняет идентификатор второго аргумента в содержимом текстового формата
первого аргумента. Нижеприведённый код работает не с двумя разными узлами в
каждом случае, а с одним. Смысл следующих операторов можно определить как:
первый меняет формат содержимого узла-аргумента с численного в текстовый, а
второй посылает идентификатор узла в содержимое этого самого узла. Таким
образом, в некоторых случаях можно сэкономить в количестве используемых
переменных:</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>   </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>to_str([1_: fixed_:
node_number, 2_: fixed_: node_number])</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>idtfMove([1_: fixed_:
node_idtf, 2_: fixed_: node_idtf])</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:14.0pt'>   </span></p>

<p class=MsoNormal style='text-indent:36.0pt'><span style='font-size:14.0pt'>Ещё
более элегантно выглядит следующий код:</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>   </span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-US
style='font-size:14.0pt;font-family:"Courier New"'>to_str([1_: 2_: fixed_:
node_number])</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='font-size:14.0pt;
font-family:"Courier New"'>idtfMove([1_: 2_: fixed_: node_idtf])</span></p>

<p class=MsoNormal><span style='font-size:14.0pt'>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
-18.0pt'><span style='font-size:14.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'>После последнего элемента
множества [1;2;3;] можно не ставать точку с запятой.</span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-align:justify;text-indent:
-18.0pt'><span style='font-size:14.0pt'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt'>Если проводится последовательная
проверка нескольких условий, то более оптимально сначала проверять более
распространенное условие, чем проверку на редкое условие, так как первая
ситуация встречается значительно чаще. Таким образом, можно избежать лишних
проверок – а это выигрыш по производительности, так как каждый scp-оператор
работает дольше, чем традиционные операторы (ведь функционал его соответствует
целой подпрограмме состоящей из традиционных операторов).</span></p>

</div>

</body>

</html>
